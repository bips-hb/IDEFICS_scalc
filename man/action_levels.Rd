% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/score_calculator.R
\name{action_levels}
\alias{action_levels}
\title{Compute IDEFICS Action Levels}
\usage{
action_levels(
  df,
  lvl_name = c("none", "monit", "action"),
  perc_level = c(0.9, 0.95),
  append = FALSE,
  filter = NULL
)
}
\arguments{
\item{df}{A data frame containing percentile columns such as `waist_percentile`, `sbp_percentile`, `hdl_percentile`, etc.}

\item{lvl_name}{Character vector of level labels. Defaults to `c("none", "monit", "action")`.}

\item{perc_level}{Numeric vector of two percentiles used as cutoffs. Defaults to `c(0.9, 0.95)` for 90th and 95th percentile.}

\item{append}{Logical. If `TRUE`, appends action level columns to `df`. If `FALSE`, returns only the computed levels.}

\item{filter}{Character. Optional. Limits calculation to a specific domain: `"adiposity"`, `"blood_pressure"`, `"blood_lipids"`, `"blood_glu_insu"`, or `"overall"`.}
}
\value{
A list (or a modified data frame if `append = TRUE`) containing action level classifications for each domain.
}
\description{
Assigns monitoring or intervention levels based on variable percentiles using standard IDEFICS thresholds.
}
\details{
Action levels are derived using `cut()` on percentile values. For example, a value > 95th percentile maps to `"action"`.
HDL is reversed (`1 - hdl_percentile`) since lower HDL values are riskier.
}
\examples{
df <- data.frame(waist_percentile = c(0.85, 0.96))
action_levels(df)

df <- data.frame(
  hdl_percentile = c(0.1,0.5),
  homa_percentile = c(0.4,0.9),
  trg_percentile = c(0.6,0.5),
  waist_percentile = c(0.9,0.99),
  sbp_percentile = c(0.8,0.01)
)
action_levels(df)

}
